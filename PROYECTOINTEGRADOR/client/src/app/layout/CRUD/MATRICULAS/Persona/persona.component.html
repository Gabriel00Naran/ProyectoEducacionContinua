<div class="row">
   <h1 class="cell-12 text-right">
      Persona
   </h1>
</div>
<div class="row">
   <div class="cell-12">
      <div class="toolbar">
         <button class="tool-button primary" title="Actualizar" (click)="goToPage(currentPage)"><i
               class="fas fa-sync"></i></button>
         <button class="tool-button success ml-2" title="Nuevo" (click)="newPersona()"><i
               class="fas fa-file"></i></button>
         <button class="tool-button warning" title="Editar" (click)="editPersona()"><i class="fas fa-edit"></i></button>
         <button class="tool-button alert ml-2" title="Eliminar" (click)="deletePersona()"><i
               class="fas fa-trash"></i></button>

      </div>
   </div>
</div>
<div class="row">
   <div class="cell-12">
      <table class="table row-hover mt-2">
         <thead>
            <tr>
               <th>Seleccionado</th>
               <th>nombres</th>
               <th>apellidos</th>
               <th>cedula</th>
               <th>numCelular</th>
               <th>numConvencional</th>
               <th>email</th>
               <th>contrasenia</th>
               <th>direccion</th>
               <th>alergias</th>
               <th>idTipo</th>
               <th>idEstadoCivil</th>
               <th>idGenero</th>
               <th>idContacto</th>
               <th>idInfoLaboral</th>
               <th>idEstado</th>
            </tr>
         </thead>
         <tbody>
            <tr *ngFor="let persona of personas" (click)="selectPersona(persona)">
               <td class="text-right"><span *ngIf="personaSelected === persona" class="far fa-hand-point-right"></span>
               </td>
               <td>{{persona.nombres}}</td>
               <td>{{persona.apellidos}}</td>
               <td>{{persona.cedula}}</td>
               <td>{{persona.numCelular}}</td>
               <td>{{persona.numConvencional}}</td>
               <td>{{persona.email}}</td>
               <td>{{persona.contrasenia}}</td>
               <td>{{persona.direccion}}</td>
               <td>{{persona.alergias}}</td>
               <td>{{persona.idTipo}}</td>
               <td>{{persona.idEstadoCivil}}</td>
               <td>{{persona.idGenero}}</td>
               <td>{{persona.idContacto}}</td>
               <td>{{persona.idInfoLaboral}}</td>
               <td>{{persona.idEstado}}</td>
            </tr>
         </tbody>
      </table>
   </div>
</div>
<div class="row">
   <div class="cell-12">
      <div class="toolbar">
         <button type="button" class="button light" *ngIf="currentPage === 1" title="Primera Página"
            disabled>Primera</button>
         <button type="button" class="button light" *ngIf="currentPage !== 1" title="Primera Página"
            (click)="goToPage(1)">Primera</button>
         <button type="button" class="button light" *ngIf="currentPage > 1" title="Página Anterior"
            (click)="goToPage((currentPage * 1) - 1)">{{(currentPage * 1) - 1}}</button>
         <button type="button" class="button primary" title="Página Actual">{{currentPage}}</button>
         <button type="button" class="button light" *ngIf="currentPage < lastPage" title="Página Siguiente"
            (click)="goToPage((currentPage * 1) + 1)">{{(currentPage * 1) + 1}}</button>
         <button type="button" class="button light" *ngIf="currentPage !== lastPage" title="Última Página"
            (click)="goToPage(lastPage)">Última</button>
         <button type="button" class="button light" *ngIf="currentPage === lastPage" title="Última Página"
            disabled>Última</button>
         <button type="button" class="button success ml-2" title="Ir a la Página"
            (click)="goToPage(goToPageNumber.value)">Ir a</button>
         <input type="number" min="{{1}}" max="{{lastPage}}" placeholder="Ir a la Página" #goToPageNumber>
      </div>
   </div>
</div>
<div class="row" *ngIf="showDialog">
   <div class="cell-12 mt-5">
      <div class="window" data-role="window" data-icon="<span class='mif-pencil'></span>" data-title="Datos:"
         data-btn-close="false" data-btn-min="false" data-btn-max="false" data-width="800" data-shadow="true"
         data-place="top-center" data-resizable="false" data-draggable="false">
         <div class="window-content m-2">
            <div class="container">
               <div class="row">
                  <div class="cell-12">
                     <div class="form-group row">
                        <label for="nombres">nombres</label>
                        <input type="text" id="nombres" name="nombres" placeholder="nombres"
                           [(ngModel)]="personaSelected.nombres">
                     </div>
                     <div class="form-group row">
                        <label for="apellidos">apellidos</label>
                        <input type="text" id="apellidos" name="apellidos" placeholder="apellidos"
                           [(ngModel)]="personaSelected.apellidos">
                     </div>
                     <div class="form-group row">
                        <label for="cedula">cedula</label>
                        <input type="text" id="cedula" name="cedula" placeholder="cedula"
                           [(ngModel)]="personaSelected.cedula">
                     </div>
                     <div class="form-group row">
                        <label for="num_celular">numCelular</label>
                        <input type="number" id="num_celular" name="num_celular" placeholder="numCelular"
                           [(ngModel)]="personaSelected.num_celular">
                     </div>
                     <div class="form-group row">
                        <label for="num_convencional">numConvencional</label>
                        <input type="number" id="num_convencional" name="num_convencional" placeholder="numConvencional"
                           [(ngModel)]="personaSelected.num_convencional">
                     </div>
                     <div class="form-group row">
                        <label for="email">email</label>
                        <input type="text" id="email" name="email" placeholder="email"
                           [(ngModel)]="personaSelected.email">
                     </div>
                     <div class="form-group row">
                        <label for="contrasenia">contrasenia</label>
                        <input type="text" id="contrasenia" name="contrasenia" placeholder="contrasenia"
                           [(ngModel)]="personaSelected.contrasenia">
                     </div>
                     <div class="form-group row">
                        <label for="direccion">direccion</label>
                        <input type="text" id="direccion" name="direccion" placeholder="direccion"
                           [(ngModel)]="personaSelected.direccion">
                     </div>
                     <div class="form-group row">
                        <label for="alergias">alergias</label>
                        <input type="text" id="alergias" name="alergias" placeholder="alergias"
                           [(ngModel)]="personaSelected.alergias">
                     </div>             
                     <div class="form-group row">
                        <label for="id_contacto">idContacto</label>
                        <input type="number" id="idContacto" name="idContacto" placeholder="idContacto"
                           [(ngModel)]="personaSelected.idContacto">
                     </div>
                     <div class="form-group row">
                        <label for="id_info_laboral">idInfoLaboral</label>
                        <input type="number" id="idInfoLaboral" name="idInfoLaboral" placeholder="idInfoLaboral"
                           [(ngModel)]="personaSelected.idInfoLaboral">
                     </div>
   
                     <div class="form-group row">
                        <label for="persona_id">TipoPersona</label>
                        <select id="tipoPersona_id" name="tipoPersona_id"
                           [(ngModel)]="personaSelected.tipoPersona_id">
                           <option value="0" selected>Seleccione...</option>
                           <option *ngFor="let tipo_persona of tipos_personas" value={{TipoPersona.id}}>
                              {{TipoPersona.id}}
                           </option>
                        </select>
                     </div>
                     <div class="form-group row">
                        <label for="persona_id">EstadoCivil</label>
                        <select id="estado_civil_id" name="estado_civil_id"
                           [(ngModel)]="personaSelected.estado_civil_id">
                           <option value="0" selected>Seleccione...</option>
                           <option *ngFor="let estado_civil of estados_civiles" value={{EstadoCivil.id}}>
                              {{EstadoCivil.id}}
                           </option>
                        </select>
                     </div>
                     <div class="form-group row">
                        <label for="persona_id">Genero</label>
                        <select id="genero_id" name="genero_id" [(ngModel)]="personaSelected.Genero_id">
                           <option value="0" selected>Seleccione...</option>
                           <option *ngFor="let genero of generos" value={{genero.id}}>
                              {{Genero.id}}
                           </option>
                        </select>
                     </div>
                     <div class="form-group row">
                        <label for="persona_id">Estado</label>
                        <select id="Estado_id" name="estado_id" [(ngModel)]="personaSelected.Estado_id">
                           <option value="0" selected>Seleccione...</option>
                           <option *ngFor="let estado of estados" value={{Estado.id}}>
                              {{Estado.id}}
                           </option>
                        </select>
                     </div>
                  </div>
               </div>
               <div class="row mt-2">
                  <div class="cell text-center">
                     <button type="button" class="button success" (click)="saveDialogResult()">Guardar</button>
                     <button type="button" class="button alert" (click)="cancelDialogResult()">Cancelar</button>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>